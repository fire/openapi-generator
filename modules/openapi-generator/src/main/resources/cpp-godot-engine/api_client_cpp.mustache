
/*
// API Client from https://github.com/heroiclabs/nakama-godot/blob/godot-4/codegen/main.go
class ApiClient:
    var _base_uri
    var _http_adapter
    var _namespace
    var _server_key
    var auto_refresh = true
    var auto_refresh_time = 300
    var auto_retry
    var auto_retry_count
    var auto_retry_backoff_base
    var last_cancel_token

    func _init(p_base_uri, p_http_adapter, p_namespace, p_server_key, p_timeout = 10):
        _base_uri = p_base_uri
        _http_adapter = p_http_adapter
        _http_adapter.timeout = p_timeout
        _namespace = p_namespace
        _server_key = p_server_key

    func _refresh_session(p_session):
        if auto_refresh and p_session.is_valid() and p_session.refresh_token and not p_session.is_refresh_expired() and p_session.would_expire_in(auto_refresh_time):
            var request = SessionRefreshRequest.new()
            request._token = p_session.refresh_token
            return await session_refresh_async(_server_key, "", request)
        return null

    func cancel_request(p_token):
        if p_token:
            _http_adapter.cancel_request(p_token)

    # For each operation in Paths
    func operationId_async(parameters...):
        # If operation does not have security
        var try_refresh = await _refresh_session(p_session)
        if try_refresh != null:
            if try_refresh.is_exception():
                return ClassName.new(try_refresh.get_exception())
            await p_session.refresh(try_refresh)
        
        # Define urlpath and query_params
        var urlpath = "url"
        var query_params = ""
        
        # Replace path parameters in urlpath and add query parameters to query_params
        
        var uri = "%s%s%s" % [_base_uri, urlpath, "?" + query_params if query_params else ""]
        var method = "method"
        var headers = {}
        
        # Define headers based on operation security
        
        var content : PackedByteArray
        
        # Define content based on operation parameters
        
        var result = await _http_adapter.send_async(method, uri, headers, content)
        if result is Exception:
            return ClassName.new(result)

        # If operation has response schema, deserialize result and return it
        # Else return new instance of AsyncResult
*/
